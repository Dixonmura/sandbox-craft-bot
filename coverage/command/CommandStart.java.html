<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CommandStart.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Java TelegramAPI Module</a> &gt; <a href="index.source.html" class="el_package">command</a> &gt; <span class="el_source">CommandStart.java</span></div><h1>CommandStart.java</h1><pre class="source lang-java linenums">package command;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.telegram.telegrambots.meta.api.methods.send.SendMessage;
import org.telegram.telegrambots.meta.api.objects.Update;
import org.telegram.telegrambots.meta.exceptions.TelegramApiException;
import org.telegram.telegrambots.meta.generics.TelegramClient;

/**
 * –ö–æ–º–∞–Ω–¥–∞ /start.
 * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±–æ—Ç–∞.
 */
public class CommandStart implements Command {

<span class="fc" id="L16">    private static final Logger log = LogManager.getLogger(CommandStart.class);</span>

<span class="fc" id="L18">    private final String startText = &quot;&quot;&quot;</span>
            –Ø ‚Äî –±–æ—Ç‚Äë—Ä–æ—É—Ç–µ—Ä —ç—Ç–æ–≥–æ —á–∞—Ç–∞ ü§ñ
            –ü–æ–º–æ–≥–∞—é –≤—ã–±—Ä–∞—Ç—å, —á–µ–º –∑–∞–Ω—è—Ç—å—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:
            
            –•–æ—á–µ—à—å —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –º–µ–Ω—å—à–µ –æ—Ç–≤–ª–µ–∫–∞—Ç—å—Å—è ‚Äî –∑–∞–ø—É—Å—Ç–∏ —Ç–∞–π–º–µ—Ä –ø–æ –º–µ—Ç–æ–¥—É –ø–æ–º–∏–¥–æ—Ä–∞ üçÖ
            
            –•–æ—á–µ—à—å –æ—Ç–¥–æ—Ö–Ω—É—Ç—å ‚Äî —Å—ã–≥—Ä–∞–π –≤ –∫–∏–Ω–æ‚Äë–∫–≤–∏–∑ –ø–æ –∫–∞–¥—Ä–∞–º –∏–∑ —Ñ–∏–ª—å–º–æ–≤ üé¨
            
            –û—Ç–ø—Ä–∞–≤—å:
            
            /startpomodoro ‚Äî –≤–∫–ª—é—á–∏—Ç—å –ø–æ–º–∏–¥–æ—Ä‚Äë—Ç–∞–π–º–µ—Ä (—Ü–∏–∫–ª—ã —Ä–∞–±–æ—Ç–∞/–æ—Ç–¥—ã—Ö) ‚è±Ô∏è
            
            /playmoviequiz ‚Äî —Å—ã–≥—Ä–∞—Ç—å –≤ –∫–∏–Ω–æ‚Äë–∫–≤–∏–∑ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤ üçø
            
            –í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º, –∞ –¥–∞–ª—å—à–µ –∫–∞–∂–¥—ã–π –±–æ—Ç –≤–æ–∑—å–º—ë—Ç —Ç–µ–±—è –∑–∞ —Ä—É–∫—É –≤ —Å–≤–æ—ë–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚úã&quot;&quot;&quot;;

    private final TelegramClient telegramClient;

    /**
     * –°–æ–∑–¥–∞—ë—Ç –∫–æ–º–∞–Ω–¥—É /start.
     *
     * @param telegramClient –∫–ª–∏–µ–Ω—Ç Telegram –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
     */
<span class="fc" id="L41">    public CommandStart(TelegramClient telegramClient) {</span>
<span class="fc" id="L42">        this.telegramClient = telegramClient;</span>
<span class="fc" id="L43">    }</span>

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.
     *
     * @param update –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Telegram —Å –∫–æ–º–∞–Ω–¥–æ–π /start
     */
    @Override
    public void execute(Update update) {
<span class="pc bpc" id="L52" title="2 of 4 branches missed.">        if (update == null || !update.hasMessage()) {</span>
<span class="nc" id="L53">            log.error(&quot;CommandStart.execute –≤—ã–∑–≤–∞–Ω —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º update&quot;);</span>
<span class="nc" id="L54">            return;</span>
        }

<span class="fc" id="L57">        Long chatId = update.getMessage().getChatId();</span>
<span class="fc" id="L58">        log.info(&quot;–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start –¥–ª—è chatId={}&quot;, chatId);</span>

<span class="fc" id="L60">        SendMessage sendMessage = SendMessage.builder()</span>
<span class="fc" id="L61">                .chatId(chatId)</span>
<span class="fc" id="L62">                .text(startText)</span>
<span class="fc" id="L63">                .build();</span>

        try {
<span class="fc" id="L66">            telegramClient.execute(sendMessage);</span>
<span class="fc" id="L67">        } catch (TelegramApiException e) {</span>
<span class="fc" id="L68">            log.error(&quot;–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è chatId={}&quot;, chatId, e);</span>
<span class="fc" id="L69">        }</span>
<span class="fc" id="L70">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>